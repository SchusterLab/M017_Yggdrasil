# Getting started with designing a new sample

## Workflow

In this analysis folder you will find the tools you need to get started with designing a new sample. The most crucial tool is the `sample_design.ipynb` notebook, 
which allows you to process the simulated data and extract the relevant parameters. In general the workflow is as follows: 

- Generate the lithography mask 
- Import the mask into Maxwell, keeping only the polygons near the dot.
- Solve for the electrostatic potential, setting 1 V on each electrode while keeping all other electrodes grounded (0 V). 
- Export the data from Maxwell into a `.dsp` file, for each electrode. This file contains the solution on the (non-cartesian) mesh generated by Maxwell.
- Process the data using this notebook.

This analysis folder only deals with the last step of the workflow and assumes there is exported Maxwell data (`.dsp` files) in the folder `../simulation/exported_maxwell_data`
If these data are not available, or you want to generate them for a new design, you can do so with the `EonHe M018.mxwl` file. 

## Installing packages and launching the notebook
If this is your first time running the notebook, create a new environment with Anaconda. The known dependencies on other python modules are
- `h5py`
- `sympy`
- `dxfgrabber`
- `termcolor`

First activate the environment using `conda activate my_newly_created_environment`. Next `pip install xxx` where `xxx` are each of the packages listed above.
Next, fire up a terminal in the `analysis` folder, and use `jupyter lab` to start the notebook server. The notebook contains useful comments and it should be self explanatory what is plotted. 

